## 前端优化手段总结

### 1.网络优化手段

#### 优化dns查询

##### 首先用户输入url点回车，会根据url的协议，主机，端口号，参数来进行dns解析来获取IP。大体过程依次是：从浏览器的缓存中看之前有没有，从本机缓存中查看有没有，从路由器的缓存中查看有没有，从lsp的ldns查看有没有。如果都没有，则会去解析IP。分为以下几个步骤：

> 我们以浏览器输入www.example.com为例

> 跟服务器返回顶级域名(TLD)服务器如.com，.cn，.org等的地址，全球只有13台，该例子中会返回.com的地址

> 接着向TLD发送请求，然后会返回次级域名(SLD)服务器的地址，本例子会返回.example的地址

> 接着向SLD域名服务器通过域名查询目标IP，本例子会返回www.example.com的地址

> Local DNS Server会缓存结果，并返回给用户，缓存在系统中。

##### 很漫长的过程。所以这里可以做一些优化手段，就是让dns预先解析。让用户在请求某个链接之前，让浏览器直接先尝试解析该域名然后缓存下来。

> 在服务器中响应设置X-DNS-Prefetch-Control的值为on启动预解析

> HTML中，<meta http-equiv="x-dns-prefetch-control" content="on">

> 对特定域名预解析<link rel=”dns-prefetch” href=”//fonts.googleapis.com”>

#### 使用cdn网络分发

#### 浏览器缓存

#### 使用版本更高的http协议

##### http1.1相比于http1 增加了keep-alive 和 管道连接。

> 什么是keep-alive？keep-alive就是持久链接。简单来讲就是一条tcp链接建立以后不关闭。省略了进行连接和关闭连接的开销。

> 管道连接就是一次性发送多个tcp连接。当第一条连接到达时，另外几条连接也就可以发送了。

##### http2相比之前多了以下好处

> 请求头部压缩

> 二进制分帧传输

> 多路复用



